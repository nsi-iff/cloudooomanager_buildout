[buildout]
extends =
  bzip2.cfg
  gdbm.cfg
  gettext.cfg
  ncurses.cfg
  openssl.cfg
  readline.cfg
  sqlite3.cfg
  zlib.cfg

parts =
    python2.6

[python-2.6.7-no_system_inc_dirs.patch]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
path = ${:filename}
download-only = true
filename = python-2.6.7-no_system_inc_dirs.patch

[python2.6]
recipe = hexagonit.recipe.cmmi
depends =
  ${gdbm:version}
prefix = ${buildout:parts-directory}/${:_buildout_section_name_}
version = 2.6
package_version = ${:version}.7
executable = ${:prefix}/bin/python${:version}
url = http://www.python.org/ftp/python/2.6.7/Python-2.6.7.tar.bz2
md5sum = d40ef58ed88438a870bbeb0ac5d4217b
patch-options = -p1
patches =
  ${python-2.6.7-no_system_inc_dirs.patch:location}/${python-2.6.7-no_system_inc_dirs.patch:filename}
configure-options =
  --enable-unicode=ucs4
  --with-threads
environment =
  CPPFLAGS=-I${zlib:location}/include -I${readline:location}/include -I${ncurses:location}/include/ -I${ncurses:location}/include/ncursesw/ -I${bzip2:location}/include  -I${gdbm:location}/include -I${openssl:location}/include -I${sqlite3:location}/include -I${gettext:location}/include
  LDFLAGS=-L${zlib:location}/lib -L${readline:location}/lib -L${ncurses:location}/lib -L${bzip2:location}/lib -L${gdbm:location}/lib -L${openssl:location}/lib -L${sqlite3:location}/lib -Wl,-rpath=${zlib:location}/lib -Wl,-rpath=${readline:location}/lib -Wl,-rpath=${ncurses:location}/lib -Wl,-rpath=${bzip2:location}/lib -Wl,-rpath=${gdbm:location}/lib -Wl,-rpath=${openssl:location}/lib -Wl,-rpath=${sqlite3:location}/lib -L${gettext:location}/lib -Wl,-rpath=${gettext:location}/lib
